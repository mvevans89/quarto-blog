{
  "hash": "8afe0604babdfce61920f4ec9a6b53bb",
  "result": {
    "markdown": "---\ntitle: \"Am-tron\"\ndescription: \"Day 2 of the #30DayMapChallenge - Lines\"\nauthor: \"Michelle Evans\"\ndate: \"2022-11-02\"\ndraft: false\nexecute:\n  warning: false\n  message: false\n---\n\n\n\nThe goal of today is to make a Tron-style map of the Amtrak lines in the US.\n\nI downloaded the shapefile of Amtrak routes from the [US Department of Transportation Open Data Dashboard](https://data-usdot.opendata.arcgis.com/datasets/baa5a6c4d4ae4034850e99aaca38cfbb/explore). But there were some errors with non-overlapping vertices so I ended up just georeferencing it myself in QGIS before starting.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggtext) #html in figure captions\nlibrary(ggplot2)\nlibrary(sf)\nlibrary(showtext) #for tron font\n\n\nlibrary(dplyr)\n```\n:::\n\n\n\nMost of the work today was just messing about with code to get the aesthetics I wanted. First we load the data: \n\n\n::: {.cell}\n\n```{.r .cell-code}\n#georeferenced\namtrak <- st_read(\"amtrak-manual.gpkg\") %>%\n  st_transform(crs = 5070)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nReading layer `amtrak-manual' from data source \n  `/Users/mvevans/Dropbox/git/quarto-blog/posts/2022-30daymapping/day2-lines/amtrak-manual.gpkg' \n  using driver `GPKG'\nSimple feature collection with 38 features and 0 fields\nGeometry type: LINESTRING\nDimension:     XY\nBounding box:  xmin: -123.1859 ymin: 25.81329 xmax: -70.00839 ymax: 49.2478\nGeodetic CRS:  WGS 84\n```\n:::\n\n```{.r .cell-code}\n#outline of us\nusa.poly <- st_as_sf(maps::map(\"usa\", fill=TRUE, plot =FALSE)) %>%\n  filter(ID == \"main\") %>%\n  st_transform(crs = 5070)\n```\n:::\n\n\nAnd then map it:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncaption.pos <- c(-1.2e6, 2.5e5)\n\namtron <- ggplot() +\n  geom_sf(data = usa.poly, fill = \"gray30\", color = \"gray80\", size = 0, alpha = 0.8) +\n  geom_sf(data = amtrak, color = \"#6EECED\", size = 2.5, alpha = 0.15) +\n  geom_sf(data = amtrak, color = \"#6EECED\", size = 3, alpha = 0.1) +\n  geom_sf(data = amtrak, color = \"#6EECED\", size = 2, alpha = 0.2) +\n  geom_sf(data = amtrak, color = \"#6EECED\", size = 1.5, alpha = 0.2) +\n  geom_sf(data = amtrak, color = \"#6EECED\", size = 1, alpha = 0.5) +\n  geom_sf(data = amtrak, color = \"#6EECED\", size = 0.75, alpha = 0.2) +\n  annotate(\"text\", x = caption.pos[1], y = caption.pos[2], label = \"AMTRON\", color = \"#d3b3f2\", size = 13, \n           family = \"tron\") +\n  annotate(\"text\", x = caption.pos[1], y = caption.pos[2], label = \"AMTRON\", color = \"#6EECED\", size = 14, \n           family = \"tron\", alpha = 0.3) +\n    annotate(\"text\", x = caption.pos[1], y = caption.pos[2], label = \"AMTRON\", color = \"white\", size = 16, \n           family = \"tron\", alpha = 0.1) +\n  coord_sf(clip = \"off\") +\n  labs(caption =  \"**Source:** US DOT, maps package <br>\n       **Created by:**M. Evans\") +\n  theme_void() +\n  theme(plot.background = element_rect(fill = \"black\"),\n        panel.background = element_rect(fill = \"black\"),\n        plot.caption = element_markdown(color = \"gray90\", size = 10, hjust = ),\n        plot.caption.position = \"plot\")\namtron\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=768}\n:::\n:::\n\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}