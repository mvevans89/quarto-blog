{
  "hash": "0fe8b90200b1e4f54df1e80efc969b11",
  "result": {
    "markdown": "---\ntitle: \"Congressional Districts over time\"\ndescription: \"Day 3 of the #30DayMapChallenge - Polygons\"\nauthor: \"Michelle Evans\"\ndate: \"2022-11-02\"\ndraft: false\nimage: nc-static.png\nexecute:\n  warning: false\n  message: false\n---\n\n\nJust in time for Election Day next week, I thought I would map some congressional districts for Day 3 of the #30DayMapChallenge which is focused on polygons.\n\nThe data for this comes from a [database of historical congressional districts hosted by UCLA](https://cdmaps.polisci.ucla.edu/) and created by Jeffrey B. Lewis, Brandon DeVine, Lincoln Pitcher, and Kenneth C. Martis. I downloaded the data for the 70th and 114th Congress and subset out North Carolina because it is a particularly grievous offender of [gerrymandering](https://gerrymander.princeton.edu/reforms/NC). It was also the focus of a Supreme Court case ([Rucho v. Common Cause](https://www.scotusblog.com/2019/06/opinion-analysis-no-role-for-courts-in-partisan-gerrymandering/)) that ultimately decided partisan gerrymandering was not something that fell under the realm of the judicial system, and left the map in place. Another aspect of this was the opinion, as Chief Justice John Roberts stated, gerrymandering \"is nothing new\". But how do the districts now compare to districts from the 70th Congress, which served from 1927 - 1929.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(sf)\nlibrary(ggtext)\nlibrary(magick)\n\n\nlibrary(dplyr)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nnc.70 <- st_read(\"ncdist-070.gpkg\")\nnc.114 <- st_read(\"ncdist-114.gpkg\")\n\n#combine into one dataset\nnc.all <- bind_rows(mutate(nc.70, congress = \"70th Congress\"),\n                   mutate(nc.114, congress = \"114th Congress\"))\n#simplify to speed up plotting\nnc.all <- st_simplify(nc.all, preserveTopology = TRUE, dTolerance = 500) %>%\n  #drop some columns for simplicity\n  select(DISTRICT, congress, geom)\n```\n:::\n\n\nMy plan is to animate moving between the two maps to highlight the unnatural gerrymandering of current district polygons. I had originally wanted to do this using the `gganimate` package but kept running into some issues where it kept hanging up when I tried to animate, so going back to the original `magick` package that `gganimate` relies on for now.\n\nFor this we'll need to make two separate plots.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\np.1 <- filter(nc.all, congress == \"70th Congress\") %>%\n  ggplot() +\n  geom_sf(fill = NA, color = \"gray40\") +\n  theme_void() +\n  labs(title = \"Is gerrymandering 'nothing new'?\",\n       subtitle = \"Comparing NC Congressional Districts from 1929 to 2017\",\n       caption = \"#30DayMapChallenge<br>\n        **Source**: Lewis et al. (UCLA 2013)<br>\n       **Created by:**M. Evans\") +\n  annotate(geom = \"text\", x = -82, y = 34.3, label = \"70th Congress\\n(1927-1929)\", family = \"Baskerville\",\n           size = 5)+\n  theme(plot.title = element_text(family = \"Baskerville\", size = 25),\n        plot.subtitle = element_text(family = \"Baskerville\", size = 14),\n        plot.caption = element_markdown(color = \"gray40\", size = 10))\n\np.1\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\np.2 <- filter(nc.all, congress == \"114th Congress\") %>%\n  ggplot() +\n  geom_sf(fill = NA, color = \"gray40\") +\n  theme_void() +\n  labs(title = \"Is gerrymandering 'nothing new'?\",\n       subtitle = \"Comparing NC Congressional Districts from 1929 to 2017\",\n       caption = \"#30DayMapChallenge<br>\n        **Source**: Lewis et al. (UCLA 2013)<br>\n       **Created by:**M. Evans\") +\n  annotate(geom = \"text\", x = -82, y = 34.3, label = \"114th Congress\\n(2015-2017)\", family = \"Baskerville\",\n           size = 5)+\n  theme(plot.title = element_text(family = \"Baskerville\", size = 25),\n        plot.subtitle = element_text(family = \"Baskerville\", size = 14),\n        plot.caption = element_markdown(color = \"gray40\", size = 10))\n\np.2\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n\n\n\nNow animate between the two:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nimg <- image_graph(860, 520, res = 100)\nprint(p.1)\n#double image so it stays there a while with the morph\nprint(p.2)\nprint(p.2)\nprint(p.1)\nprint(p.1)\ndev.off()\nanimation <- image_morph(img, frames = 20) %>% image_animate(fps = 10)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nimage_write_gif(animation, \"nc-anim.gif\")\n```\n:::\n\n\n![](nc-anim.gif)",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}